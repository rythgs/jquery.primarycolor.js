/**
 * -------------------------------------------------------------------------------------------
 * jquery.primarycolor.js v1.2.2
 * Licensed under MIT (https://github.com/rythgs/jquery.primarycolor.js/blob/master/LICENCE)
 * -------------------------------------------------------------------------------------------
 */
!function(t,i,e,n){"use strict";function r(i,e){this.element=i,this.settings=t.extend({},h,this.configure(e)),this._defaults=h,this._name=a,this.primary={rgb:"",count:0},this.init()}var a="primaryColor",s="primary-color",h={skip:5,callback:null};t.extend(r.prototype,{init:function(){t(new Image).on("load",t.proxy(this.onLoad,this)).prop("src",this.element.src||"")},configure:function(t){return"function"==typeof t?{callback:t}:"object"!=typeof t&&t?{}:t},getImageData:function(){var t=e.createElement("canvas");t.width=this.element.width,t.height=this.element.height;var i=t.getContext("2d");return i.drawImage(this.element,0,0),i.getImageData(0,0,this.element.width,this.element.height)},isApproximateColor:function(t,i){if(!t||!i)return!1;var e=t.split(","),n=i.split(","),r=e[0]-n[0],a=e[1]-n[1],s=e[2]-n[2],h=Math.sqrt(r*r+a*a+s*s);return 60>h},onLoad:function(){for(var i=this.getImageData(),e=i.data,n=e.length/4,r={},a=0;n>a;a+=4*this.settings.skip)if(!(e[a+3]<255)){var h=[e[a],e[a+1],e[a+2]].join(",");this.primary.rgb&&this.isApproximateColor(this.primary.rgb,h)&&(h=this.primary.rgb),r[h]=r[h]||0;var o=++r[h];o>this.primary.count&&(this.primary.rgb=h,this.primary.count=o)}t.data(this.element,s,this.primary.rgb),"function"==typeof this.settings.callback&&this.settings.callback.call(this.element,this.primary.rgb)}}),t.fn[a]=function(i){return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new r(this,i))})}}(jQuery,window,document);
