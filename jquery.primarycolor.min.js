/**
 * -------------------------------------------------------------------------------------------
 * jquery.primarycolor.js v1.3.0
 * Licensed under MIT (https://github.com/rythgs/jquery.primarycolor.js/blob/master/LICENCE)
 * -------------------------------------------------------------------------------------------
 */
!function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,i,n,e){const o="primaryColor",r={skip:5,callback:null};function s(i,n){this.element=i,this.settings=t.extend({},r,this.configure(n)),this._defaults=r,this._name=o,this.primary={rgb:"",count:0},this.init()}t.extend(s.prototype,{init:function(){const i=new Image;i.crossOrigin="Anonymous",t(i).on("load",t.proxy(this.onLoad,this)).prop("src",this.element.src||"")},configure:function(t){return"function"==typeof t?{callback:t}:"object"!=typeof t&&t?{}:t},getImageData:function(t){const i=n.createElement("canvas"),e=i.getContext("2d");return i.width=t.width,i.height=t.height,e.drawImage(t,0,0),e.getImageData(0,0,t.width,t.height)},isApproximateColor:function(t,i){if(!t||!i)return!1;const n=t.split(","),e=i.split(","),o=n[0]-e[0],r=n[1]-e[1],s=n[2]-e[2];return Math.sqrt(o*o+r*r+s*s)<60},sortColors:function(t){return Object.keys(t).sort(function(i,n){return t[n]-t[i]})},onLoad:function(i){const n=this.getImageData(i.currentTarget).data,e=n.length/4,o={};for(let t=0;t<e;t+=4*this.settings.skip){if(n[t+3]<255)continue;let i=[n[t],n[t+1],n[t+2]].join(",");this.primary.rgb&&this.isApproximateColor(this.primary.rgb,i)&&(i=this.primary.rgb),o[i]=o[i]||0;const e=++o[i];e>this.primary.count&&(this.primary.rgb=i,this.primary.count=e)}t.data(this.element,"primary-color",this.primary.rgb),"function"==typeof this.settings.callback&&this.settings.callback.call(this.element,this.primary.rgb,this.sortColors(o).slice(0,5))}}),t.fn[o]=function(i){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new s(this,i))})}});