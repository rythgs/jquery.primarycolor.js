!function(t){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=r(jQuery);function e(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function o(){return(o=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t}).apply(this,arguments)}function a(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],e=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(e=(i=u.next()).done)&&(n.push(i.value),!r||n.length!==r);e=!0);}catch(t){o=!0,a=t}finally{try{e||null==u.return||u.return()}finally{if(o)throw a}}return n}(t,r)||function(t,r){if(!t)return;if("string"==typeof t)return i(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}var u=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;if(!t||!r)return!1;var e=t.split(",").map(Number),o=a(e,3),i=o[0],u=o[1],l=o[2],c=r.split(",").map(Number),f=a(c,3),s=f[0],p=f[1],y=f[2],h=i-s,m=u-p,d=l-y,g=Math.sqrt(h*h+m*m+d*d);return g<n},l=function(){function t(r,n){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=r,this.options=n,this.primary="";var e=new Image;e.crossOrigin="Anonymous",e.onload=this.onLoad.bind(this),e.src=r.src}var r,n,o;return r=t,o=[{key:"getImageData",value:function(t){var r=document.createElement("canvas"),n=r.getContext("2d");return r.width=t.width,r.height=t.height,n.drawImage(t,0,0),n.getImageData(0,0,t.width,t.height)}},{key:"sortColors",value:function(t){return Object.keys(t).sort((function(r,n){return t[n]-t[r]}))}}],(n=[{key:"onLoad",value:function(r){var n=a(function(t){for(var r=t.data,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e={rgb:"",count:0},o={},a=0,i=r.length;a<i;a+=4*n)if(!(r[a+3]<255)){var l=[r[a],r[a+1],r[a+2]].join(","),c=e.rgb&&u(e.rgb,l)?e.rgb:l;o[c]=o[c]||0;var f=++o[c];f>e.count&&(e.rgb=c,e.count=f)}return[e,o]}(t.getImageData(r.currentTarget),this.options.skip),2),e=n[0],o=n[1];this.primary=e.rgb,"function"==typeof this.options.callback&&this.options.callback.call(this.element,this.primary,t.sortColors(o).slice(0,5))}},{key:"primaryColor",get:function(){return this.primary}}])&&e(r.prototype,n),o&&e(r,o),t}();n.default.fn.primaryColor=o((function(t){var r;if((r="function"==typeof t?n.default.extend({},n.default.fn.primaryColor.options,{callback:t}):n.default.extend({},n.default.fn.primaryColor.options,t)).skip<1)throw new Error('Please set "skip" to a value greater than 1.');return this.each((function(t,e){n.default.data(e,"primary-color")||n.default.data(e,"primary-color",new l(e,r))}))}),{options:{skip:5}})}();